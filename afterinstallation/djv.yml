--- 
  - hosts: centos7
    gather_facts: false
    name: Gather System Information
    tasks: 
      - name: check rpm
        shell: rpm -qa DJV
        register: djv_status

      - debug:
          var: djv_status

      - name: Check OS version
        shell: cat /etc/centos-release
        register: os_status
      - debug:
          var: os_status

      - name: Copy DJV
        copy: src=/ASEX/share/vipul.meher/DJV-1.3.0-1.x86_64.rpm dest=/srv/local mode=777
        when: os_status.stdout == "CentOS Linux release 7.7.1908 (Core)" or  os_status.stdout == "CentOS Linux release 7.9.2009 (Core)"
        
      - name: INSTALL DJV
        shell: rpm -ivh /srv/local/DJV-1.3.0-1.x86_64.rpm
        when: djv_status.stdout == "" and os_status.stdout == "CentOS Linux release 7.7.1908 (Core)" or djv_status.stdout == "" and os_status.stdout == "CentOS Linux release 7.9.2009 (Core)"